
// focntion qui retourne le 'feed' depuis un site web Cointelgraph.com en utilisant sa fonctionnalite RSS Feed.
function getFeed(maxItems) {
    //un compteur qui determine le nombre des carte/actu a afficher
    var counter = 0;
    //vider le tag
    $('.feed').replaceWith('<div class="row feed"></div>');
    //le call
    $.get("https://cointelegraph.com/rss", function (data) {
        var $XML = $(data);
        $XML.find("item").each(function () {
            if (counter < maxItems) {
                var $this = $(this), item = {
                    title: $this.find("title").text(),
                    link: $this.find("link").text(),
                    media: $this.find("media\\:content").attr('url'),
                };
                //ajouter l'actu a une carte puis l'inserer dans l'HTML
                $('.feed').append('<div class=" col s12 m4 l3"  ><div class="card"><div class="card-image"><img id="image1" src="' + item.media + '"></div><div style="height:10em"  class="card-content"><p><span class="light black-text card-title">' + item.title + '</span></p></div><div class="card-action"><a href="' + item.link + '" target="_blank">More info</a></div></div></div>');
            }
            //incrementer le compteur et arreter au nombre max des cartes choisis
            counter++;
        });
    });
}

//appel du focntion
getFeed(10);
$('select').change(function () {
    //appel iteratif a chaque modification du select
    getFeed($('select').val());
});


